---
phase: 08-bug-reporting
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - frontend: app/page.tsx (Settings modal + new Bug Report full-screen panel)
autonomous: true

must_haves:
  truths:
    - "Settings includes a 'Report a Bug' option positioned above 'Sign Out'"
    - "Tapping 'Report a Bug' opens a full-page in-app screen"
    - "User can close/cancel; discard confirmation happens only if the report is not empty"
    - "Report form supports optional single photo and a description textarea with guided prompts"
    - "Submit control is present and remains disabled until description or photo is provided"
  artifacts:
    - path: "app/page.tsx"
      provides: "Report a Bug entry + full-page report UI"
      contains: "Report a Bug"
  key_links:
    - from: "Bug Report UI"
      to: "Bug report submit handler"
      via: "Submit button onClick"
      pattern: "submitBugReport|bug report submit"
---

<objective>
Add a "Report a Bug" option to the Settings menu (above "Sign Out") that opens a full-page in-app bug report screen (optional photo + guided description prompts).

Purpose: Create a low-friction reporting UI that captures the right inputs and navigation flow before wiring to the n8n intake workflow.

Output: Frontend UI for Settings entry + bug report screen shell (submission wiring handled in Plan 02).
</objective>

<execution_context>
@/Users/MSIModern14/.claude/get-shit-done/workflows/execute-plan.md
@/Users/MSIModern14/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-bug-reporting/08-CONTEXT.md
@CLAUDE.md (n8n workflow patterns, existing credential IDs, database schema)
@app/page.tsx (Settings modal + full-screen panel patterns)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add "Report a Bug" entry above "Sign Out"</name>
  <files>app/page.tsx</files>
  <action>
  1. Locate the Settings modal section in `app/page.tsx` (near the existing "Sign Out" button).
  2. Insert a new Settings action button labeled "Report a Bug" positioned directly above the "Sign Out" button.
  3. Clicking the new entry should close Settings modal if needed and open the new full-page bug report screen.
  4. Keep visual language consistent with existing Settings buttons (same spacing, hover states, icons).
  </action>
  <verify>
  - Open Settings: "Report a Bug" is visible and is above "Sign Out".
  - Tapping it opens the bug report screen.
  </verify>
  <done>Settings contains the new entry in the correct position and it navigates to bug report UI.</done>
</task>

<task type="auto">
  <name>Task 2: Build full-page bug report screen UI</name>
  <files>app/page.tsx (new panel/component/state)</files>
  <action>
  Implement a full-page in-app screen (full-screen overlay/panel is acceptable) with:

  - Header with title "Report a Bug" and a back/close control.
  - Privacy note (one line) explaining reports are sent to the team for review.
  - Photo upload control:
    - Optional
    - Single photo only
    - Show selected filename/preview and allow removing/replacing it
  - Description textarea:
    - Single field
    - Prompts visible as helper text/placeholder, including:
      - "How did this occur?"
      - "What happened when you clicked?"
  - Submit button:
    - Disabled unless description or photo is present (avoid empty reports)
    - On submit: prepare UI state (loading/success/error) for wiring in Plan 02
  - Cancel/close behavior:
    - If user has entered text or selected a photo, confirm before discarding
    - If empty, close immediately

  Match existing full-screen patterns (e.g., Notification panel overlay style) so it feels native.
  </action>
  <verify>
  - Close confirmation triggers only when there is unsent content.
  - Submit control is disabled when the report is empty.
  </verify>
  <done>Bug report UI matches CONTEXT decisions with required fields and submit control.</done>
</task>

</tasks>

<verification>
- [ ] Settings shows "Report a Bug" above "Sign Out"
- [ ] Bug report screen is full-page and closable with discard confirmation only when dirty
- [ ] Optional single photo upload works
- [ ] Description prompts are visible
- [ ] Submit control is disabled until a description or photo is provided
</verification>

<success_criteria>
1. Users can open the bug report screen from Settings and start a draft with optional photo + guided description prompts.
2. Drafts can be safely discarded only when empty; dirty-state confirmation is enforced.
</success_criteria>

<output>
After completion, create `.planning/phases/08-bug-reporting/08-01-SUMMARY.md`
</output>
